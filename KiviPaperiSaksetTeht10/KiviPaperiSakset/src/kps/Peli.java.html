<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>Peli.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">kps (25.4.2023 2.23.05)</a> &gt; <a href="../../index.html" class="el_group">KiviPaperiSakset</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">kps</a> &gt; <span class="el_source">Peli.java</span></div><h1>Peli.java</h1><pre class="source lang-java linenums">package kps;


import java.time.Clock;
import java.util.ArrayList;
import java.util.List;

<span class="fc" id="L8">public class Peli {</span>

<span class="fc" id="L10">    Pelaaja p1 = new Pelaaja();</span>
<span class="fc" id="L11">    Pelaaja p2 = new Pelaaja();</span>
<span class="fc" id="L12">    int tasapelit = 0, era = 0;</span>
<span class="fc" id="L13">    boolean peliLoppui = false;</span>
    String pelaaja1valinta, pelaaja2valinta;
    
    
    /**
     * Peli aloitetaan ja aletaan suorittamaan eri metodeita while loopissa, kunnes voittojen määrä toisilla pelaajista on kolme
 
     */
    public void aloitaPeli() {


<span class="nc bnc" id="L24" title="All 2 branches missed.">        while (!peliLoppui) {</span>
            //Erän määrää kasvatetaan aina uuden erän alkaessa
<span class="nc" id="L26">            era++;</span>
        		
<span class="nc" id="L28">            System.out.println(&quot;Erä: &quot; + era + &quot; =====================\n&quot;);</span>
<span class="nc" id="L29">            System.out.println(&quot;Tasapelien määrä: &quot; + tasapelit + &quot;\n&quot;);</span>

            //Katsoo pelaajien valinnat
<span class="nc" id="L32">            pelaajienValinnat();</span>


            //Tarkistaa pelaajien valinnat ja valintojen mukaisesti määrää erän voittajan
<span class="nc" id="L36">            tarkistaValinnat(pelaaja1valinta, pelaaja2valinta);</span>


            //Tulostaa pelin tilanteen
<span class="nc" id="L40">            System.out.println(&quot;Tilanne: pelaajan 1 voitot: &quot;+p1.getVoitot()+&quot;\npelaajan 2 voitot: &quot;+p2.getVoitot());</span>

            //Tarkistaa että onko kummallakaan pelaajista kolmea voittoa
<span class="nc" id="L43">            pelinPaattymisenTarkistus();</span>

<span class="nc" id="L45">            System.out.println();</span>
        }	
<span class="nc" id="L47">    }</span>
    
    /**
     * Arpoo 0-2 numeron ja valitsee kiven, paperin tai sakset
     * @param c
     * @param pelaaja1valinta
     * @param pelaaja2valinta
     */
    //Arpoo numeron 0, 1 tai 2 ja tekee valinnan sen mukaisesti
    public void pelaajienValinnat() {
<span class="nc" id="L57">    	int c = (int) (Math.random() * 3);</span>
<span class="nc" id="L58">        pelaaja1valinta = p1.pelaajanValinta(c);</span>
<span class="nc" id="L59">        System.out.println(&quot;Pelaaja 1: &quot; + pelaaja1valinta);</span>

<span class="nc" id="L61">        pelaaja2valinta = p2.pelaajanValinta(c);</span>
<span class="nc" id="L62">        System.out.println(&quot;Pelaaja 2: &quot; + pelaaja2valinta);</span>
<span class="nc" id="L63">    }</span>
    
    
    
    
    /**
     * Valitsee voittajan pelaajien valintojen mukaisesti
     * 
     * @param pelaaja1valinta
     * @param pelaaja2valinta
     * @param tasapelit
     */
    public void tarkistaValinnat(String pelaaja1valinta, String pelaaja2valinta) {
<span class="pc bpc" id="L76" title="1 of 4 branches missed.">        if ((pelaaja1valinta.equals(&quot;kivi&quot;) &amp;&amp; pelaaja2valinta.equals(&quot;paperi&quot;)) ||</span>
<span class="pc bpc" id="L77" title="3 of 4 branches missed.">                (pelaaja1valinta.equals(&quot;paperi&quot;) &amp;&amp; pelaaja2valinta.equals(&quot;sakset&quot;)) ||</span>
<span class="pc bpc" id="L78" title="1 of 4 branches missed.">                (pelaaja1valinta.equals(&quot;sakset&quot;) &amp;&amp; pelaaja2valinta.equals(&quot;kivi&quot;))) {</span>

<span class="nc" id="L80">            p2.kasvataVoitot();</span>
<span class="nc" id="L81">            System.out.println(&quot;Pelaaja 2 voittaa erän&quot;);</span>

<span class="pc bpc" id="L83" title="1 of 4 branches missed.">        } else if ((pelaaja1valinta.equals(&quot;kivi&quot;) &amp;&amp; pelaaja2valinta.equals(&quot;sakset&quot;)) ||</span>
<span class="pc bpc" id="L84" title="3 of 4 branches missed.">                (pelaaja1valinta.equals(&quot;paperi&quot;) &amp;&amp; pelaaja2valinta.equals(&quot;kivi&quot;)) ||</span>
<span class="pc bpc" id="L85" title="1 of 4 branches missed.">                (pelaaja1valinta.equals(&quot;sakset&quot;) &amp;&amp; pelaaja2valinta.equals(&quot;paperi&quot;))) {</span>

<span class="fc" id="L87">            p1.kasvataVoitot();</span>
<span class="fc" id="L88">            System.out.println(&quot;Pelaaja 1 voittaa erän&quot;);</span>

            //jos valinnat ovat samat kasvatetaan tasapelien määrää
<span class="fc" id="L91">        } else {</span>
<span class="fc" id="L92">            tasapelit++;</span>
<span class="fc" id="L93">            System.out.println(&quot;\n\t\t\t TASAPELI \n&quot;);</span>
        }
<span class="fc" id="L95">    }</span>
    
    /**
     * Tarkastaa päättyikö peli
     * 
     * @param peliLoppui
     */
    
    public void pelinPaattymisenTarkistus() {
<span class="pc bpc" id="L104" title="3 of 4 branches missed.">        if (p1.getVoitot() &gt;= 3 || p2.getVoitot() &gt;= 3) {</span>
<span class="fc" id="L105">            peliLoppui = true;</span>
<span class="fc" id="L106">            System.out.println(&quot;KOLME VOITTOA PELI LOPPUI&quot;);</span>
        }
<span class="fc" id="L108">    }</span>
    
    
    
    
    /**
     * Testaamista varten hakee pelaajien voitot
     * @return pelaajien voitot
     */
    //saadaan kyseisen pelaaja olion voitot palautettua jUnit testeille
    public int getPelaajaVoitot(int player) {
<span class="pc bpc" id="L119" title="1 of 2 branches missed.">    	if(player == 1) {</span>
<span class="fc" id="L120">    		return p1.getVoitot(); </span>
    	}
<span class="nc bnc" id="L122" title="All 2 branches missed.">    	else if (player == 2) {</span>
<span class="nc" id="L123">    		return p2.getVoitot();</span>
    	}
    	else {
<span class="nc" id="L126">    		return 0;	</span>
    	}
    
    	
    }
    
    
    
    /**
     * Testaamista varten hakee tasapelit
     * @return pelaajien tasapelit
     */
    
    //Junit testausta varten palautetaan tasapelit
    public int getTasapelit() {
<span class="fc" id="L141">    	return tasapelit;</span>
    }
    
    
    /**
     * Testaamista varten katsotaan loppuiko peli
     * @return peliloppumisen tila
     */
    
    //Pelin päättymisen testaamista varten tehty getteri
    public boolean getPeliPaattyi() {
<span class="fc" id="L152">    	return peliLoppui;</span>
    }
    
    
    /**
     * Testaamista varten voidaan asettaan voittojen määrä
     */
    //Käytetään tasapelien testaamisessa
    public void setVoitot() {
<span class="fc" id="L161">    	p1.kasvataVoitot();</span>
<span class="fc" id="L162">    }</span>
    
    
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>kps (25.4.2023 2.23.05)</div></body></html>